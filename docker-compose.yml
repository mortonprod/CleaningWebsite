#Build specifies to use the docker file in this directory.
#Must create mongodb image before running.
version: '2'
services:
  db: 
    build: "./db" #Use docker file in this directory to create mongdb image. 
    image: "mortonprod/mongodb"
    volumes:
     - ./db/store:/data/db #links host ./db/store to default mongodb location.
  web:
    build: .
    image: "mortonprod/web"
    ports:
     - "3000:8080"#Connect host port 3000 to node port 8080
    volumes:
     - ./dist:/usr/src/app/dist
    links: #Links db service(like web) to database name.It then is accessed via url. 
     - "db:database"
    depends_on:
      - db #Specify to create db instance before we create node
